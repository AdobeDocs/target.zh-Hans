---
keywords: 字符限制;mbox 参数;批量投放 api;轮廓参数;限制;内置轮廓;最大值;限制;约束;字符;最佳实践;orderid;orderTotal;mbox3rdPartyID;类别;categoryID;故障排除
description: 查看影响 [!DNL Adobe Target]中活动和其他元素的字符限制和其他限制的列表。
title: ' [!DNL Adobe Target]中的各种字符、大小和其他限制是什么？'
feature: Troubleshooting
mini-toc-levels: 3
exl-id: b318ab16-1382-4f3a-8764-064adf384d6b
source-git-commit: 09874362863144992c69d4b79a935c9d9a769dc1
workflow-type: tm+mt
source-wordcount: '1734'
ht-degree: 74%

---

# 限制

影响[!DNL Adobe Target]中活动和其他元素的字符限制和其他限制（选件大小、受众、配置文件、值、参数等）。

>[!NOTE]
>
>以下所列限制应视为“硬”限制，除非被指定为“建议”。
>
>当达到或超出被指定为“建议”的限制时，性能可能会降低。极其复杂的活动（例如一个活动中同时具有多个受众、目标和体验）也可能会导致界面加载速度缓慢。
>
>应使用 [!DNL Adobe] Consulting 审查并在受限的环境中测试非常复杂的活动，然后再将其放行到生产环境。

## 活动

### 活动名称

* **限制**：250 个字符。

### 每个帐户的活动数量

* **建议限制**：10,000 个处于活动状态的实时活动。

* **建议的限制**：10000 个有效的已保存（但未结束）的活动。

## Target API 调用

* **限制**：管理员、报表和批量轮廓更新 API 每分钟调用 50 次。此限制不适用于交付和单个轮廓更新 API。

  如果您每分钟进行的 API 调用超过 50 次，[!DNL Target] 将返回一个“503 HTTP 状态”错误消息。

## 受众

### 受众名称

* **限制**：255 个字符。

### 每个帐户可重用的受众

* **建议限制**：20,000 个受众。

### 每个 mbox、指标或体验的受众数量

* **限制**：50 个受众

## categoryId 参数

* **限制**：256 个字符。

## 内容投放 {#content-delivery}

* **限制**：每个用户会话 100 个并发 [!DNL Target] 内容投放请求。

  如果某个客户的给定用户会话超过了 100 个并发 [!DNL Target] 内容投放请求，则会阻止该用户会话的所有后续请求。如果有两个或更多请求均发送到 [!DNL Target] 服务器且尚未收到任何请求的响应，则将这些请求视为并发请求。[!DNL Target] 按顺序处理相同会话的并发请求。

   * **错误行为**：

      * 投放 API 和批量 Mbox v2：
         * 错误代码：HTTP 420 请求太多
         * 错误消息：“相同会话 ID 的请求太多”

      * 旧版 mbox API：
         * 显示默认内容，并带有注释“相同会话 ID 的请求太多”

      * at.js：
         * 显示默认内容

* **限制**：每个[!DNL Target]内容投放批次mbox请求有50个mbox。

  每个[!DNL Target]内容投放批次mbox请求超过50个mbox会导致响应错误代码`HTTP 400`，并出现错误消息`size must be between 0 and 50`。

  按顺序处理批处理mbox请求，从而增加每个迭代的整体响应时间。 批量请求上的mbox越多，预期的响应延迟越多，因此可能会超时。 如果在这些高延迟的批量请求上阻止体验渲染，则延迟可能会导致用户体验降低，因为用户会等待体验渲染。

* **限制**： [!DNL Target]内容投放请求的HTTP POST正文大小为60 MB。

  [!DNL Target]内容投放请求的HTTP POST正文大小超过60 MB会导致响应错误代码`HTTP 413 Request Entity Too Large`。

* **建议的限制**：每个[!DNL Target]投放批次请求50个通知。

  每[!DNL Target]个投放批次请求超过50个通知可能会导致响应延迟和超时增加。

  批量通知请求按顺序处理，从而增加每个迭代的整体响应时间。 批量请求上的通知越多，预计的响应滞后时间就越多，因此可能会超时。 对于某些客户，批处理通知请求可能会出现一些额外的延迟，但是请注意，超时和任何后续重试都可能导致更多延迟。

## 客户属性

### 客户属性名称

* **限制**：通过信息源或 API 输入 250 个字符。

### 客户属性别名 ID

* **限制**：50 个字符。

### 客户属性和上传

* **使用 HTTP 方法每次上传的最大文件大小**：100 MB。
* **使用 FTP 方法每次上传的最大文件大小**：4 GB。
* **允许订阅的属性数量**：[!DNL Target Standard] 为 5，[!DNL Target Premium] 为 200。

## 实体

### 实体数

* 设计中可引用（无论是以硬编码方式引用还是通过循环引用）的最大实体数为 99。
* 为获得最佳性能，建议的限制是在每个环境中使目录所含的项目数量少于一百万个，并使所有环境中的项目数量少于一千万个。
* 最大限制是每个环境中一千万个项目，所有环境中 1 亿个项目。如果您在每个环境中的项目数量介于一百万和一千万个之间，[!UICONTROL Catalog Search] UI的性能会受到影响。 但是，[!DNL Target Recommendations]会继续生成并提供推荐。

### 实体自定义属性

* **自定义实体属性**：100。

* **字符数限制**：最大字符长度取决于语言。

   * 15,000 个字符（单值、单字节和双字节语言）
   * 500 个值，每个值 100 个字符（多值）

  单值实体自定义属性的最大长度为 15,000 个字符（对于单字节和双字节 UTF-8 编码语言，例如英语和其他拉丁文字字母）或 10,000 个字符（对于三字节 UTF-8 编码语言，例如中文、日语和韩语）。

  多值实体自定义属性最多可以包含 500 个值。每个值的限制为 100 个字符。所有值的字符总数必须符合单值实体自定义属性的最大长度限制（请参阅上文）。

### entity.id

* **需要捕获购买信息的实施的限制**：50 个字符。

  强制此限制是因为 `productPurchasedId` mbox 参数捕获 entity.ids，这将字符数限制为 50 个。

* **仅限需要基于查看数的算法的实施的限制**：1,000 个字符。

  基于查看数的算法包括查看/查看、查看次数最多、最近查看等等。

## excludedIds {#excludedid}

* **限制**：对于 POST 请求，为 5 KB。对于 GET 请求，为 2,083 个字符减去 URL 长度。

  对于 GET 请求，尽管后端的限制为 5 KB，但由于 Microsoft Internet Explorer 将 URL 限制为 2,083 个字符，因此实际限制为 2,083 个字符减去 URL 的当前长度。

## 体验

### 体验名称

* **限制**：50 个字符。

### 每个活动的体验数

* **限制**：每个[!UICONTROL Experience Targeting] (XT)、[!UICONTROL A/B Test]、[!UICONTROL Multivariate Test] (MVT)和[!UICONTROL Auto-Target]活动2,000个体验。

  每个自动个性化 (AP) 活动 30,000 个体验。

### 每体验的修改数

* **限制**：任意活动上每个体验 50 次

## mboxes

### mbox 内轮廓属性值 {#in-mbox}

* **限制**：256 个字符。

  使用at.js 1.*x* 使用跨域跟踪功能时。在使用at.js 2.*x*&#x200B;或[!DNL Adobe Experience Platform Web SDK]。 值不会自动截断。

### mbox 内轮廓名称

* **限制**：128 个字符。

### mbox 名称 {#mbox-names}

* **限制**：250 个字符。

  对于[!DNL Delivery API] (at.js 2.*x*)、批处理mbox V2和[!DNL Adobe Experience Platform Web SDK] (alloy.js)集成，mbox名称&#x200B;*可以*&#x200B;包含字母数字字符(A-Z、a-z、0-9)和以下任意字符：

  ```
  - , . _ / = ` : ; & ! @ # $ % ^ & * ( ) _ + | ? ~ [ ] { }
  ```

  对于at.js 1.*x*&#x200B;集成，mbox名称&#x200B;*不能*&#x200B;包含以下任何字符：

  ```
  ' " %22 %27 < > %3C %3E 
  ```

### mbox 参数 {#mbox-parameters}

* **限制**：以下限制适用于 mbox 参数：

  对于标准 mbox 调用：

   * mbox 参数：每个 mbox 500 个参数。
   * 轮廓参数：每个 mbox 500 个参数轮廓参数。
   * 其他参数（URL、引荐 URL 等）：对于每种参数类型，每个mbox 50个。

  除非因 Web 浏览器限制而缩短请求，否则将应用这些限制。

  如果使用批量投放 API，则每个批处理请求的限制为 50 个 mbox。

  如果您在Mobile Services SDK中使用批量交付API，则该API本身的限制为50个mbox参数、50个配置文件参数和50个其他参数类型。 无法使用批量交付 API 发送包含的参数超过这些数量的请求。如果请求中的参数大于这些限制，则该 API 将返回以下错误消息：

  “mbox 参数的数量不得超过 50。”

  为端点设置的限制：

  **批处理 mbox v2**：

   * mbox 参数数量 100
   * mbox 参数名称最大长度 128
   * mbox 参数值不得为 null
   * mbox 参数值 5000
   * 轮廓参数数量 50
   * 轮廓参数名称最大长度 128
   * 轮廓参数值不得为 null
   * 轮廓参数值最大长度 5000

  **投放 API 端点**：

   * mbox 参数数量 100
   * mbox 参数名称最大长度 128
   * mbox 参数值不得为 null
   * mbox 参数值 5000
   * 轮廓参数数量 50
   * 轮廓参数名称最大长度 128
   * 轮廓参数值不得为 null
   * 轮廓参数值最大长度 5000

### mbox 请求 URL

* **限制**：2,083 个字符。

  此限制是由于 Microsoft Internet Explorer URL 长度限制所导致。

### mbox3rdPartyId 参数

* **限制**：256 个字符。

## 产品建议

### 产品建议名称

* **限制**：250 个字符。

### 产品建议数

* **限制**：总共150,000个选件。

  如果超过150,000个选件的限制，则会发生活动同步错误。

### 产品建议大小 {#offer-size}

以下大小限制适用于产品建议：

* HTML 产品建议为 1024 KB。
* UI 中的可视产品建议为 1024 KB（对于每个体验）。
* API 中的产品建议为 1024 KB。

  如果您使用的是全局 mbox，则限制适用于为该页面返回的整个内容集。限制选件大小会提升页面加载时间。如果超出限制，则会出现以下消息：

  “体验的内容过大，无法发送。请修改体验，以减少受影响的页面代码。”

## orderId 参数

* **建议限制**：120 个字符。

## orderTotal 参数

* **建议限制**：120 个字符。

## productPurchasedId 参数

* **限制**：每个逗号分隔值的限制为 50 个字符，总限制为 250 个字符。系统会截断长度大于 50 个字符的个别值。总长度大于 250 个字符会导致 400 错误。

## 轮廓脚本

* **建议的有效轮廓脚本（已启用的脚本）数限制**：300

* **建议的每个帐户轮廓脚本总数的限制**：2000

* **建议限制轮廓脚本复杂度**：轮廓脚本只能执行有限数量的指令。有关更多信息，请参阅“轮廓属性”**&#x200B;中的[最佳实践](/help/main/c-target/c-visitor-profile/profile-parameters.md#best)。

## 属性

* **建议限制**：5,000 个属性。

## 报表受众/区段

* **限制**：每个活动 50 个报表受众/区段。

## sessionID

会话ID可以是任何可打印的字符串，但空格、问号( ？ )、大括号( { } )或正斜杠( / )。 长度应为1至128个字符。

## [!DNL Target] UI 中的脚本轮廓输入框

* **建议限制**：2,000 个字符。

  取决于编码字符串的大小，其大小可能比原始字符串长很多。如果字符串过大，则在达到[!DNL Adobe Target]之前将失败。

## 脚本轮廓

### 脚本轮廓名称

* **限制**：50 个字符。

### 脚本轮廓值

* **限制**：2,048 个字符。

  出于性能原因，我们建议返回值不要再超过 256 个字符。

  对于字符串返回值，如果返回值的大小超过 2,048 个字符，则系统将禁用该脚本。

  对于数组返回值，如果数组的连接值的大小超过 2,048 个字符，则系统将禁用该脚本。

## 成功量度

* **限制**：每个活动 200 个成功量度。

## 定位

### 锁定条件

* **建议限制**：1,000 个值。

  这是指定位文本区域中以行分隔的值的数量。例如，在邮政编码定位中输入 1,000 个邮政编码。

### 定位规则 {#targeting-rules}

* **建议的限制**：每个定位规则值 2500 个字符。
* **建议限制**：各定位规则中每个受众 50,000 个唯一值。
* **建议限制**：每个活动 100,000 个唯一定位规则值。
