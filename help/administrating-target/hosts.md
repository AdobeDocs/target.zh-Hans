---
keywords: host;hosts;host group;environment;troubleshooting;best practices
description: 可组织您的网站和预生产环境，以便轻松管理和分隔报表。
title: 主机
topic: Standard
uuid: c7682269-4ec2-4a0f-b053-7e0ec77f4604
translation-type: tm+mt
source-git-commit: 504d967e3b4be890843f53f97a96fb7e5a33f1f9

---


# 主机{#hosts}

可组织您的网站和预生产环境，以便轻松管理和分隔报表。

主机管理的主要目标是确保网站上不会意外出现任何不活跃的内容。通过主机管理，您还可以按环境分隔报表数据。

主机是指在项目的任何阶段都可以提供内容服务的任意 Web 服务器（或 Web 域）。提供 mbox 的任何主机都可被识别。

为方便管理，可将多个主机捆绑在一起并将其放置到环境中。例如，您可以将数十个主机分组到两个或三个环境中。预设环境包括生产、测试和开发。您可以根据需要添加新环境，以及对环境进行重命名。

一个默认环境已预先命名为“生产”。此默认环境无法删除，即使您将其重命名也是如此。[!DNL Target] 将此环境视为您将在其中提供批准的最终活动和测试的位置。

如果从新的网站或域接收到 mbox 请求，则这些新域始终会显示在生产环境中。生产环境的设置不能更改，因此可以保证未知或新的网站上只能看到活跃且已准备就绪的内容。通过主机管理，您在激活测试和开发环境中的新活动和内容之前，还可以轻松地确保这些活动和内容的质量。

Target 并没有对能够发送和接收 mbox 的主机加以限制，因此当有新的服务器或域出现时，它们可以自动运行（除非您设置了白名单或黑名单）。这也让您能够在不了解或不可预测的各种域中进行广告测试。

要管理主机和环境，请单击&#x200B;**[!UICONTROL 设置]** > **[!UICONTROL 主机]**。

![](assets/hosts_list.png)

## 识别主机 {#concept_0D4B43E23AA9408F8B28A57ED754BF65}

此信息介绍的是 [!DNL Target] 识别主机并将其添加到主机列表所必须满足的条件。

要能够识别主机，必须满足以下条件：

* 主机中至少存在一个 mbox
* 主机上的某个页面必须具有以下项：

   * 正确的 [!DNL mbox.js] 引用
   * mbox 或自动生成的全局 mbox 调用

* 在浏览器中可以查看带有 mbox 的页面

查看该页面后，即会在“[!UICONTROL 主机]”列表中列出相应的主机，以便您能够在环境中对其进行管理，并预览和启动活动与测试。

>[!NOTE] {class=&quot;- topic/note &quot;}
>
>其中包含所有个人开发服务器。

将某个主机添加到“[!UICONTROL 主机]”列表后，请确保该主机已被识别。

1. 单击&#x200B;**[!UICONTROL 设置]** > **[!UICONTROL 主机列表]**。
1. 如果您的主机不在列表中，请刷新浏览器。默认情况下，新识别的主机会被放置在生产环境中。这是最安全的环境，因为该环境不允许从这些主机中查看不活跃的活动。
1. （视情况而定）将主机移到开发环境或测试环境中。

>[!NOTE]
>
>无法删除生产环境，即使对其重命名也是如此。生产环境被视为您提供最终的活跃活动和测试的环境。该环境默认不允许查看不活跃的营销活动。

## 管理主机和环境 {#concept_90573F5A52E04600A8C3C5897880C10F}

此信息可帮助您管理主机和环境（主机组），包括为报表设置默认主机，创建白名单，更改环境名称，将主机移至其他环境以及删除主机或环境。


要访问“[!UICONTROL 主机]”列表，请单击&#x200B;**[!UICONTROL 设置]** > **[!UICONTROL 主机]**。

![](assets/hosts_list.png)

## 在“主机”列表中进行筛选、排序或搜索 {#section_068B23C9D8224EB78BC3B7C8580251B0}

要按环境对“[!UICONTROL 主机]”列表进行筛选，请单击&#x200B;**[!UICONTROL 全部]**&#x200B;下拉列表，然后选择所需的环境（“生产”、“测试”、“开发”或您创建的自定义环境）。

要对“[!UICONTROL 主机]”列表进行排序，请单击任意列标题（“名称”、“环境”或“上次请求”）以按升序或降序对列表排序。

要在“[!UICONTROL 主机]”列表中进行搜索，请在搜索框中键入搜索词。

## 选择多个主机 {#section_EF3B458475184B7EA997C3559714397C}

要选择多个主机，请选中所需主机对应的“[!UICONTROL 名称]”列旁边的复选框。然后，您可以移动或删除所有选定的主机。

## 创建环境 {#section_32097D0993724DF3A202D164D3F18674}

1. 从[!UICONTROL 主机]列表中，单击&#x200B;**[!UICONTROL 环境]**&#x200B;选项卡。
1. 单击&#x200B;**[!UICONTROL 创建环境]**。
1. 为环境指定一个描述性名称。
1. 为环境指定所需的活跃模式：“[!UICONTROL 活跃活动]”或“[!UICONTROL 活跃和不活跃的活动]”。
1. 单击&#x200B;**[!UICONTROL 保存]**。

## 设置默认报表主机 {#section_4F8539B07C0C45E886E8525C344D5FB0}

您可以选择要用于所有活动报表的默认环境。

如果您使用“生产”作为默认环境，则所有未知主机都会自动添加到这里，并且默认报表视图中会包含这里的报表数据。而创建“精简”环境则可确保仅包含您的核心网站/域。

要为报表设置默认环境，请执行以下操作：

1. 从[!UICONTROL 主机]列表中，单击&#x200B;**[!UICONTROL 设置]**&#x200B;选项卡。
1. 从&#x200B;**[!UICONTROL 环境设置]**&#x200B;下拉列表中选择默认主机。
1. 单击&#x200B;**[!UICONTROL 保存]**。

>[!NOTE]
>
>[!DNL Recommendations]如果主机变换主机组，则 用户必须重建自己的行为数据库和产品数据库。

## 创建白名单来指定有权向 Target 发送 mbox 调用的主机{#section_0AF7F56C386A42C381AF704DEF08D5CC}

您可以创建一个白名单来指定有权向 [!DNL Target] 发送 mbox 调用的主机（域）。所有其他生成调用的主机都将收到一个注释掉的授权错误响应。默认情况下，任何包含 mbox 调用的主机都会在生产环境中向 [!DNL Target] 进行注册，它们有权访问所有活跃的已批准活动。如果您不希望如此，可以使用白名单来记录有权执行 mbox 调用并接收 [!DNL Target] 内容的特定主机。所有主机将继续显示在“[!UICONTROL 主机]”列表中，并且环境仍可用来对这些主机进行分组，以及为每个主机分配不同的级别，例如主机是否可以看到活跃和/或不活跃的营销活动。

要创建白名单，请执行以下操作：

1. 从[!UICONTROL 主机]列表中，单击&#x200B;**[!UICONTROL 设置]**&#x200B;选项卡。
1. 选中&#x200B;**[!UICONTROL 为内容交付启用已授权的主机]**&#x200B;复选框。
1. 根据需要在&#x200B;**[!UICONTROL 主机包含]**&#x200B;框中添加所需的主机。

   可列出多个主机，每个主机单独占一行。

1. 单击&#x200B;**[!UICONTROL 保存]**。

如果对未授权的主机进行 mbox 调用，则该调用将做出响应：`/* no display - unauthorized mbox host */`。

白名单的优先级高于环境。在使用白名单功能前，您应当清除所有主机，然后只有白名单允许的主机才会出现在您的主机列表中。然后，您可以将主机移到所需的环境中。

有时，您的环境中会显示来自其他网站的域。如果某域名调用了您的 mbox.js，则该域就会显示在列表中。例如，如果某人将您的一个网页复制到其服务器，那么该域便会显示在您的环境中。您也可以看到来自蜘蛛引擎、语言翻译网站或者本地磁盘驱动器的域名。

如果 `mboxHost` 在 API 调用中进行传递，则会为传入的环境记录转化。如果未传递任何环境，则调用中的主机默认为“生产”。

您也可以通过在“[!DNL Target]主机不包含[!UICONTROL ”框中添加所需的主机来创建黑名单，以指定不能向 ] 发送 mbox 调用的主机（域）。

## 更改环境的名称 {#section_9F5F94285F8E495E9CE69810CE94CA08}

1. 从[!UICONTROL 主机]列表中，单击&#x200B;**[!UICONTROL 环境]**&#x200B;选项卡。
1. 将鼠标悬停在所需的环境上，然后单击&#x200B;**[!UICONTROL 编辑]**&#x200B;图标。
1. 更改环境名称。
1. 单击&#x200B;**[!UICONTROL 保存]**。

## 将主机移到其他环境 {#section_9F52549958BD485EB74FE78C32773D2A}

1. 在“[!UICONTROL 主机]”列表中，将鼠标悬停在要移动的主机上。
1. 单击&#x200B;**[!UICONTROL 移动]**&#x200B;图标。
1. 从下拉列表中选择所需的环境，然后单击复选标记图标。

## 删除主机 {#section_F56355BA4BC54B078A1A8179BC954632}

如果您不再需要某个主机，您可以删除该主机。

1. 在“[!UICONTROL 主机]”列表中，将鼠标悬停在要删除的主机上。
1. 单击&#x200B;**[!UICONTROL 删除]**&#x200B;图标。
1. 单击&#x200B;**[!UICONTROL 删除]**&#x200B;以确认删除。

>[!NOTE]
>
>如果任何人浏览到该主机上启用了 mbox 的页面，则会再次列出该主机。

## 删除环境 {#section_737F8869612047868D03FC755B1223D3}

如果您不再需要某个环境，您可以删除该环境。

1. 从[!UICONTROL 主机]列表中，单击&#x200B;**[!UICONTROL 环境]**&#x200B;选项卡。
1. 将鼠标悬停在要删除的环境上。
1. 单击&#x200B;**[!UICONTROL 删除]**&#x200B;图标。
1. 单击&#x200B;**[!UICONTROL 删除]**&#x200B;以确认删除。

>[!NOTE]
>
>您无法删除“生产”环境，但可以对其重命名。

## 主机故障诊断 {#concept_B3D7583FA4BB480382CC7453529FE1B7}

在 [!DNL Adobe Target] 中管理主机并对其进行故障诊断的最佳实践。

如果遇到主机方面的问题，请尝试使用以下故障诊断提示解决问题：

**主机未出现在您帐户的 mbox 列表中。**

* 在浏览器中刷新“[!UICONTROL 主机]”页面。
* 确认 mbox 代码（包括 [!DNL mbox.js] 引用）正确无误。
* 尝试浏览主机上的某个 mbox。可能是因为主机上的 mbox 从来没有在浏览器中显示。

**“[!UICONTROL 主机]”列表中出现随机或未知的域。**

如果从某个域中调用了 [!DNL Target]，则该域会显示在此列表中。您常常可以看到来自蜘蛛引擎、语言翻译网站或者本地磁盘驱动器的域。如果列出的域不是您的团队所使用的域，则可以单击“[!UICONTROL 删除]”将其移除。

**我的 mbox 调用返回以下内容：/* 无显示 - 未授权的 mbox 主机 */。**

如果对未授权的主机进行 mbox 调用，则该调用将做出响应：/* 无显示 - 未授权的 mbox 主机 */。

## 推荐：按环境（主机组）筛选收藏集和排除项

![Premium 徽章](/help/assets/premium.png)

您可以预览选定环境（主机组）的“推荐”收藏集和排除项内容。

>[!NOTE]
>“推荐”活动作为 Target Premium 解决方案的一部分提供。如果没有 Target Premium 许可证，它们将无法在 Target Standard 中使用。

主机组可用于为不同用途而分隔目录中的可用项。例如，您可以将主机组用于“开发和生产”环境、不同的品牌或不同的地理位置。默认情况下，“目录搜索”、“收藏集”和“排除项”中的预览结果均基于默认的主机组。（也可以使用“环境”筛选器来选择要预览结果的不同主机组。）默认情况下，新添加的项目在所有主机组中都可用，除非在创建或更新项目时指定了环境 ID。交付的“推荐”取决于请求中指定的主机组。

如果您看不到产品，请确保您使用的是正确的主机组。例如，如果您将推荐设置为使用测试环境并将您的主机组设置为“测试”，则您可能需要在测试环境中重新创建收藏集，之后才会显示产品。要查看每个环境中提供了哪些产品，请在每个环境中使用“目录搜索”。您还可以预览选定环境（主机组）的“推荐”收藏集和排除项内容。

>[!NOTE]
>更改选定的环境后，必须单击“搜索”以更新返回的结果。

“环境”筛选器可从 Target UI 中的以下位置访问：

* 目录搜索（[!UICONTROL 推荐 > 目录搜索]）
* “创建收藏集”对话框（[!UICONTROL 推荐 > 收藏集 > 新建]）
* “更新收藏集”对话框（[!UICONTROL 推荐 > 收藏集 > 编辑]）
* “创建排除项”对话框（[!UICONTROL 推荐 > 排除项 > 新建]）
* “更新排除项”对话框（[!UICONTROL 推荐 > 排除项 > 编辑]）
